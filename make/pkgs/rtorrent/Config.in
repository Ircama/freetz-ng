menuconfig FREETZ_PACKAGE_RTORRENT
	bool "rTorrent/ruTorrent"
	default n
	select FREETZ_LIB_libtorrent              if !FREETZ_PACKAGE_RTORRENT_STATIC
	select FREETZ_LIB_libxmlrpc               if !FREETZ_PACKAGE_RTORRENT_STATIC && FREETZ_PACKAGE_RTORRENT_WITH_XMLRPC
	select FREETZ_LIB_libxmlrpc_server        if !FREETZ_PACKAGE_RTORRENT_STATIC && FREETZ_PACKAGE_RTORRENT_WITH_XMLRPC
	select FREETZ_LIB_libxmlrpc_util          if !FREETZ_PACKAGE_RTORRENT_STATIC && FREETZ_PACKAGE_RTORRENT_WITH_XMLRPC
	select FREETZ_LIB_libxmlrpc_xmlparse      if !FREETZ_PACKAGE_RTORRENT_STATIC && FREETZ_PACKAGE_RTORRENT_WITH_XMLRPC
	select FREETZ_LIB_libxmlrpc_xmltok        if !FREETZ_PACKAGE_RTORRENT_STATIC && FREETZ_PACKAGE_RTORRENT_WITH_XMLRPC
	select FREETZ_LIB_libcurl                 if !FREETZ_PACKAGE_RTORRENT_STATIC
	select FREETZ_LIB_libcrypto               if !FREETZ_PACKAGE_RTORRENT_STATIC
	select FREETZ_LIB_libssl                  if !FREETZ_PACKAGE_RTORRENT_STATIC
	select FREETZ_LIB_libxml2                 if !FREETZ_PACKAGE_RTORRENT_STATIC
	select FREETZ_LIB_libncursesw             if !FREETZ_PACKAGE_RTORRENT_STATIC
	select FREETZ_LIB_libz         if !FREETZ_PACKAGE_RTORRENT_STATIC
	help
		rTorrent is a console-based BitTorrent client.
		ruTorrent is a web-based front-end for rTorrent.
		
		Includes libtorrent and libxmlrpc-c dependencies.
		Both components can be enabled independently.

if FREETZ_PACKAGE_RTORRENT

	comment "NOTE: For ruTorrent Web UI, enable PHP or PHP5 in 'Packages -> Web interface & server' first"

	config FREETZ_PACKAGE_RTORRENT_DAEMON
		bool "rTorrent daemon"
		default y
		help
			Installs rTorrent, the BitTorrent client daemon.
			Version: 0.16.5

	config FREETZ_PACKAGE_RTORRENT_WEBUI
		bool "ruTorrent web interface"
		default y
		depends on FREETZ_PACKAGE_RTORRENT_DAEMON
		depends on FREETZ_PACKAGE_PHP || FREETZ_PACKAGE_PHP5
		select FREETZ_PACKAGE_RTORRENT_WITH_XMLRPC
		select FREETZ_PACKAGE_RTORRENT_CGI
		help
			Installs ruTorrent web interface to /usr/mww/rutorrent.
			Version: 5.2.10
			
			*** IMPORTANT: Enable PHP or PHP5 package first before selecting this option ***
			
			This option requires either PHP (8.x) or PHP5 (5.6.40) to be enabled.
			If this option is not available, go to "Packages -> Web interface & server"
			and select either "PHP" or "PHP5" first.
			
			Required PHP extensions (configure in PHP menu):
			- CGI support
			- CURL
			- LIBXML
			- SESSION
			- MBSTRING
			- JSON (built-in PHP 8.x, extension in PHP 5.6)
			
			Additional requirements:
			- P7ZIP (optional, for archive management)
			- XMLRPC support (automatically enabled)
			
			Served by httpd-webcfg on port 81 at http://fritzbox:81/rutorrent/
			Configure rTorrent via: http://fritz.box:81/cgi-bin/conf/rtorrent

	config FREETZ_PACKAGE_RTORRENT_STATIC
		bool "Link statically"
		depends on FREETZ_PACKAGE_RTORRENT_DAEMON
		default n
		help
			Links rTorrent statically (larger binary, no library dependencies).

	config FREETZ_PACKAGE_RTORRENT_WITH_IPV6
		bool "With IPv6 support"
		depends on FREETZ_PACKAGE_RTORRENT_DAEMON
		depends on FREETZ_TARGET_IPV6_SUPPORT
		default y
		help
			Enables IPv6 support in rTorrent.

	config FREETZ_PACKAGE_RTORRENT_WITH_XMLRPC
		bool "With XMLRPC support"
		depends on FREETZ_PACKAGE_RTORRENT_DAEMON
		default y
		help
			Enables XMLRPC interface for remote control.
			Required for ruTorrent web interface.

	config FREETZ_PACKAGE_RTORRENT_SELECT_CGI
		bool "Select rTorrent CGI"
		select FREETZ_PACKAGE_RTORRENT_CGI
		select FREETZ_PACKAGE_RTORRENT_DAEMON
		default y
		help
			Configuration web interface for Freetz at http://fritz.box:81/cgi-bin/conf/rtorrent
			Allows to configure rTorrent daemon settings, directories, bandwidth, and SCGI socket.

endif # FREETZ_PACKAGE_RTORRENT
